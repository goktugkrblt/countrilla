import React, { useState, useEffect } from "react";
import "./App.css";

const CountryInfo = () => {
  const [country, setCountry] = useState("");
  const [countryData, setCountryData] = useState(null);
  const [opacity, setOpacity] = useState(0); 

  useEffect(() => {
    const fetchCountryData = async () => {
      try {
        if (country) {
          const response = await fetch(
            `https://restcountries.com/v3.1/name/${country}`
          );
          const data = await response.json();

          if (data.status && data.status === 404) {
            setCountryData(null);
          } else {
            setCountryData(data[0]);
          }
        } else {
          setCountryData(null);
        }
        setOpacity(1);
      } catch (error) {
        console.error("Error fetching country data:", error);
      }
    };

    fetchCountryData();
  }, [country]);
	
  return (
    <div className="countries-content">
      <div className="logo">
        <div className="circle"></div>
        Countrilla
      </div>

      <input
        className="countries-input"
        type="text"
        placeholder="Enter the country name"
        value={country}
        onChange={(e) => setCountry(e.target.value)}
      />

      {countryData && (
        <div className="countries-info"
		style={{ opacity, transition: "opacity 1s ease-in-out" }}
		>
          <div className="countries-info-left">
            <img
              src={countryData.flags.png}
              alt={`${countryData.name.common} flag`}
            />
            <h2>{countryData.name.common}</h2>
          </div>
          <div className="countries-info-content">
            <div className="countries-info-right-1">
              <p>
                <svg
                  fill="#f4f5f6"
                  width="24px"
                  height="24px"
                  viewBox="-1 0 19 19"
                  xmlns="http://www.w3.org/2000/svg"
                  class="cf-icon-svg"
                >
                  <path d="M16.417 9.579A7.917 7.917 0 1 1 8.5 1.662a7.917 7.917 0 0 1 7.917 7.917zm-2.853 3.368a.318.318 0 0 0-.316-.316h-.334v-.394a.318.318 0 0 0-.316-.317H12.3V9.25h.214a.396.396 0 0 0 0-.79H4.457a.396.396 0 0 0 0 .79h.226v2.67H4.35a.318.318 0 0 0-.317.317v.394H3.7a.318.318 0 0 0-.317.316v.394h10.182zm-8.88-5.144H12.3a3.808 3.808 0 0 0-7.617 0zM6.35 9.67v2.25h-.79V9.67a.396.396 0 0 1 .791 0zm1.686.006v2.244h-.791V9.676a.396.396 0 0 1 .791 0zm1.686.007v2.237h-.791V9.683a.396.396 0 0 1 .791 0zm1.686.006v2.231h-.792V9.69a.396.396 0 0 1 .792 0z" />
                </svg>
                <span className="font-medium">Capital:</span>{" "}
                {countryData.capital}
              </p>
              <p>
                <svg
                  width="24px"
                  height="24px"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M13.9928 6.6967L17.1747 3.51472L20.3567 6.6967L19.2961 7.75736L17.9247 6.38604L17.9247 17.614L19.2961 16.2426L20.3567 17.3033L17.1747 20.4853L13.9928 17.3033L15.0534 16.2426L16.4247 17.614V6.38604L15.0534 7.75736L13.9928 6.6967Z"
                    fill="#f4f5f6"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M3.75 4.5L4.5 3.75H12L12.75 4.5V19.5L12 20.25H4.5L3.75 19.5V4.5ZM5.25 5.25V18.75H11.25V17.25H8.25V15.75H11.25V14.25H8.25V12.75H11.25V11.25H7.5V9.75H11.25V8.25H8.25V6.75H11.25V5.25H5.25Z"
                    fill="#f4f5f6"
                  />
                </svg>{" "}
                <span className="font-medium">Area:</span> {countryData.area}{" "}
                km²
              </p>
              <p>
                {" "}
                <svg
                  fill="#000000"
                  version="1.1"
                  id="Layer_1"
                  width="24px"
                  height="24px"
                  viewBox="0 0 100 100"
                  enable-background="new 0 0 100 100"
                  fill="#f4f5f6"
                >
                  <g>
                    <path
                      d="M27.953,46.506c-1.385-2.83-2.117-6.008-2.117-9.192c0-1.743,0.252-3.534,0.768-5.468c0.231-0.87,0.521-1.702,0.847-2.509
		c-1.251-0.683-2.626-1.103-4.101-1.103c-5.47,0-9.898,5.153-9.898,11.517c0,4.452,2.176,8.305,5.354,10.222L5.391,56.217
		c-0.836,0.393-1.387,1.337-1.387,2.392v10.588c0,1.419,0.991,2.569,2.21,2.569h7.929V60.656c0-3.237,1.802-6.172,4.599-7.481
		l10.262-4.779C28.624,47.792,28.273,47.161,27.953,46.506z"
                    />
                    <path
                      d="M60.137,34.801h34.092v-0.001c0.002,0,0.004,0.001,0.006,0.001c0.973,0,1.761-0.789,1.761-1.761c0,0,0-0.001,0-0.001
		l0-6.43h0c0-0.973-0.789-1.761-1.761-1.761c-0.002,0-0.004,0.001-0.006,0.001v-0.005H56.133c1.614,2.114,2.844,4.627,3.526,7.435
		C59.874,33.168,60.03,33.999,60.137,34.801z"
                    />
                    <path
                      d="M95.996,66.436c0-0.973-0.789-1.761-1.761-1.761c-0.002,0-0.004,0.001-0.006,0.001v-0.005H72.007v7.095v1.994
		c0,0.293-0.016,0.582-0.045,0.867h22.267v-0.001c0.002,0,0.004,0.001,0.006,0.001c0.973,0,1.761-0.789,1.761-1.761l0-0.001
		L95.996,66.436L95.996,66.436z"
                    />
                    <path
                      d="M94.235,44.762c-0.002,0-0.004,0.001-0.006,0.001v-0.005H58.944c-0.159,0.419-0.327,0.836-0.514,1.249
		c-0.364,0.802-0.773,1.569-1.224,2.297l10.288,4.908c0.781,0.378,1.473,0.897,2.078,1.503h24.657v-0.001
		c0.002,0,0.004,0.001,0.006,0.001c0.973,0,1.761-0.789,1.761-1.761c0,0,0-0.001,0-0.001l0-6.43h0
		C95.996,45.55,95.207,44.762,94.235,44.762z"
                    />
                    <path
                      d="M65.323,57.702l-11.551-5.51l-4.885-2.33c2.134-1.344,3.866-3.418,5-5.917c0.899-1.984,1.435-4.231,1.435-6.631
		c0-1.348-0.213-2.627-0.512-3.863c-1.453-5.983-6.126-10.392-11.736-10.392c-5.504,0-10.106,4.251-11.648,10.065
		c-0.356,1.333-0.602,2.72-0.602,4.189c0,2.552,0.596,4.93,1.609,7c1.171,2.4,2.906,4.379,5.018,5.651l-4.678,2.178l-11.926,5.554
		c-1.037,0.485-1.717,1.654-1.717,2.959v11.111v1.994c0,1.756,1.224,3.181,2.735,3.181h42.417c1.511,0,2.735-1.424,2.735-3.181
		v-1.994V60.656C67.019,59.355,66.349,58.198,65.323,57.702z"
                    />
                  </g>
                </svg>{" "}
                <span className="font-medium">Population:</span>{" "}
                {countryData.population}
              </p>
            </div>
            <div className="countries-info-right-2">

              <p>
                <svg
                  fill="#f4f5f6"
                  height="24px"
                  width="24px"
                  version="1.1"
                  id="Layer_1"
                  viewBox="0 0 512 512"
                >
                  <g>
                    <g>
                      <path
                        d="M360.439,57.731c-22.739,0-41.239,18.5-41.239,41.239s18.5,41.239,41.239,41.239s41.239-18.5,41.239-41.239
			S383.178,57.731,360.439,57.731z M360.439,109.792c-5.967,0-10.821-4.855-10.821-10.821s4.855-10.821,10.821-10.821
			s10.821,4.855,10.821,10.821C371.26,104.937,366.406,109.792,360.439,109.792z"
                      />
                    </g>
                  </g>
                  <g>
                    <g>
                      <path
                        d="M436.999,131.423c3.01-10.952,4.55-21.82,4.55-32.453c0-44.724-36.386-81.111-81.111-81.111s-81.111,36.386-81.111,81.111
			c0,10.633,1.54,21.501,4.55,32.453H0v362.717h512V131.423H436.999z M413.098,181.64c0.323-0.477,0.649-0.954,0.967-1.431
			c0.423-0.632,0.842-1.27,1.26-1.911c0.213-0.327,0.427-0.655,0.638-0.982c0.504-0.781,1.004-1.569,1.501-2.363
			c0.064-0.102,0.127-0.204,0.19-0.306c2.552-4.096,5.018-8.363,7.324-12.806h56.603v151.212l-97.046-97.046
			c4.656-4.663,10.055-10.452,15.638-17.197c0.156-0.189,0.311-0.374,0.468-0.565c0.37-0.45,0.741-0.906,1.113-1.366
			c0.32-0.395,0.642-0.795,0.963-1.196c0.306-0.382,0.611-0.763,0.919-1.152c0.6-0.76,1.201-1.528,1.803-2.309
			c0.02-0.025,0.039-0.052,0.058-0.077c0.336-0.436,0.669-0.884,1.005-1.326c0.421-0.555,0.844-1.109,1.256-1.665
			c0.252-0.339,0.503-0.687,0.754-1.03c0.481-0.654,0.961-1.308,1.432-1.963c0.285-0.396,0.567-0.801,0.851-1.201
			c0.421-0.595,0.843-1.19,1.255-1.785C412.401,182.667,412.75,182.153,413.098,181.64z M481.582,356.069v27.963L348.493,250.941
			l13.981-13.981L481.582,356.069z M360.439,48.277c27.952,0,50.693,22.741,50.693,50.693c0,14.642-3.855,28.691-9.603,41.518
			c-1.341,2.996-2.79,5.921-4.313,8.775c-0.16,0.299-0.321,0.597-0.483,0.894c-0.613,1.132-1.24,2.25-1.877,3.356
			c-0.159,0.277-0.316,0.558-0.477,0.833c-0.767,1.315-1.546,2.613-2.339,3.889c-0.169,0.273-0.343,0.537-0.513,0.808
			c-0.611,0.972-1.228,1.934-1.851,2.883c-0.317,0.484-0.638,0.963-0.958,1.441c-0.49,0.731-0.982,1.452-1.478,2.168
			c-0.349,0.504-0.696,1.011-1.046,1.507c-0.559,0.791-1.12,1.565-1.682,2.336c-0.623,0.854-1.246,1.693-1.873,2.523
			c-0.355,0.47-0.71,0.943-1.065,1.406c-0.497,0.647-0.993,1.283-1.489,1.913c-0.288,0.366-0.575,0.727-0.862,1.087
			c-0.534,0.67-1.07,1.339-1.602,1.99c-0.046,0.056-0.091,0.109-0.137,0.165c-1.303,1.591-2.597,3.122-3.872,4.593
			c-0.07,0.08-0.14,0.163-0.21,0.244c-0.618,0.712-1.232,1.406-1.84,2.089c-0.109,0.123-0.218,0.244-0.328,0.366
			c-2.603,2.907-5.097,5.54-7.39,7.866c-0.029,0.029-0.059,0.059-0.087,0.089c-1.161,1.176-2.27,2.275-3.315,3.29
			c-8.915-8.656-22.454-23.318-33.3-41.568c-0.134-0.226-0.272-0.446-0.405-0.674c-0.365-0.622-0.721-1.256-1.079-1.886
			c-0.444-0.782-0.886-1.568-1.319-2.362c-0.259-0.474-0.516-0.949-0.771-1.427c-0.659-1.241-1.308-2.491-1.937-3.76
			c-0.042-0.084-0.085-0.167-0.128-0.252c-0.741-1.505-1.458-3.031-2.149-4.573c-5.752-12.831-9.609-26.885-9.609-41.531
			C309.746,71.018,332.487,48.277,360.439,48.277z M295.9,161.84c2.308,4.443,4.773,8.709,7.324,12.806
			c0.064,0.102,0.127,0.204,0.19,0.306c0.497,0.795,0.997,1.583,1.501,2.363c0.211,0.328,0.424,0.655,0.638,0.982
			c0.419,0.641,0.837,1.28,1.26,1.911c0.318,0.478,0.644,0.954,0.967,1.431c0.349,0.513,0.698,1.028,1.048,1.534
			c0.413,0.596,0.834,1.191,1.255,1.786c0.284,0.401,0.566,0.805,0.851,1.201c0.47,0.655,0.951,1.309,1.432,1.963
			c0.251,0.343,0.503,0.69,0.754,1.03c0.413,0.556,0.835,1.11,1.256,1.665c0.335,0.442,0.669,0.89,1.005,1.326
			c0.019,0.025,0.039,0.052,0.058,0.077c0.601,0.781,1.203,1.549,1.803,2.309c0.306,0.388,0.612,0.769,0.919,1.152
			c0.321,0.401,0.642,0.801,0.963,1.196c0.372,0.458,0.742,0.916,1.113,1.366c0.156,0.191,0.312,0.376,0.468,0.565
			c6.42,7.756,12.599,14.25,17.683,19.223L223.251,333.167L118.413,228.328l66.488-66.488H295.9z M141.886,161.84l-44.98,44.98
			l-44.981-44.98H141.886z M30.417,463.724v-91.047c47.038,6.702,84.344,44.008,91.046,91.047H30.417z M152.119,463.723
			c-7.043-63.832-57.87-114.659-121.701-121.702v-20.386c75.023,7.198,134.891,67.065,142.088,142.088H152.119z M203.042,463.723
			c-7.367-91.808-80.817-165.258-172.625-172.625v-107.75l280.374,280.375H203.042z M481.583,463.723H353.807L244.759,354.675
			l82.226-82.226l154.598,154.598V463.723z"
                      />
                    </g>
                  </g>
                </svg>{" "}
                <span className="font-medium">Region:</span>{" "}
                {countryData.region}
              </p>

              {countryData.demonym && <p>Demonym: {countryData.demonym}</p>}

              {countryData.languages && (
                <div>
                  <p>
                    <svg
                      width="24px"
                      height="24px"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M5 14L5.90909 11.3333M11 14L9.90909 11.3333M9.90909 11.3333L7.72727 6L5.90909 11.3333M9.90909 11.3333H5.90909"
                        stroke="#f4f5f6"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M13 11.8462H16.5M20 11.8462H18.25M16.5 11.8462V10M16.5 11.8462H17.375H18.25M18.25 11.8462C18.0556 13.2821 16.2667 17.0154 13 18M18.8333 18C17.6667 17.3846 14.6333 15.1692 14.1667 13.6923"
                        stroke="#f4f5f6"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span className="font-medium">Languages:</span>
                    {Object.keys(countryData.languages).map(
                      (languageCode, index) => (
                        <span key={index}>
                          {countryData.languages[languageCode]}
                        </span>
                      )
                    )}
                  </p>
                </div>
              )}

              {countryData.currencies && (
                <div>
                  <p>
                    <svg
                      fill="#000000"
                      version="1.1"
                      id="Capa_1"
                      width="24px"
                      height="24px"
                      viewBox="0 0 124.51 124.51"
                      fill="#f4f5f6"
                    >
                      <g>
                        <g>
                          <path
                            d="M49.766,37.636c0,0-52.831,69.336,15.948,70.771c0,0,67.484,0,1.681-74.055C55.149,33.25,49.766,37.636,49.766,37.636z
			 M66.772,71.292c7.375,2.604,10.355,6.015,10.355,11.601c0,5.517-3.908,10.229-11.039,11.472v6.322h-6.081v-5.889
			c-4.154-0.187-8.185-1.302-10.543-2.664l1.863-7.258c2.605,1.425,6.263,2.728,10.297,2.728c3.535,0,5.954-1.364,5.954-3.844
			c0-2.357-1.985-3.847-6.575-5.398c-6.636-2.231-11.165-5.332-11.165-11.347c0-5.459,3.847-9.736,10.483-11.04v-5.895h6.075v5.459
			c4.154,0.187,6.947,1.051,8.994,2.047l-1.8,7.009c-1.609-0.682-4.463-2.11-8.934-2.11c-4.028,0-5.332,1.736-5.332,3.475
			C59.328,68.004,61.5,69.307,66.772,71.292z"
                          />
                          <path
                            d="M66.313,31.057c0,0,4.584-14.156-0.798-14.754c-4.532-0.503-11.465-0.401-18.542,4.472
			c2.208,2.826,4.687,5.597,4.687,5.597l-6.016-4.623c-0.887,0.687-1.773,1.448-2.655,2.3l6.977,10.128
			C49.965,34.176,58.064,29.859,66.313,31.057z"
                          />
                          <path
                            d="M26.972,78.221h-13.96v-4.249c2.779-1.152,5.874-4.143,5.874-7.706c0-0.734-0.05-1.363-0.157-2.096h-5.14v-5.404h4.196
			c-0.261-1.311-0.42-2.833-0.42-4.246c0-6.61,4.825-10.96,11.85-10.96c2.887,0,5.034,0.626,6.185,1.258l-1.311,6.03
			c-0.994-0.577-2.463-0.945-4.4-0.945c-3.723,0-4.876,2.414-4.876,4.932c0,1.362,0.152,2.621,0.469,3.932h7.187v0.17
			c2.39-5.503,5.181-10.565,7.669-14.655c-3.012-4.222-6.716-8.846-11.223-13.918c-9.567-0.863-13.773,2.564-13.773,2.564
			s-41.111,53.958,12.146,55.288C26.671,85.011,26.615,81.642,26.972,78.221z"
                          />
                          <path
                            d="M25.491,67.891c-0.47,1.313-1.311,2.623-2.566,3.724v0.104h5.176c0.605-2.537,1.385-5.07,2.281-7.547h-4.416
			C26.018,65.48,25.915,66.684,25.491,67.891z"
                          />
                          <path
                            d="M28.069,27.786c0,0,3.582-11.062-0.622-11.526c-3.542-0.394-8.96-0.313-14.489,3.494c1.727,2.207,3.663,4.372,3.663,4.372
			l-4.7-3.61c-0.693,0.536-1.386,1.13-2.076,1.795l5.452,7.912C15.297,30.222,21.625,26.852,28.069,27.786z"
                          />
                          <path
                            d="M101.993,30.362C92.427,29.5,88.22,32.926,88.22,32.926s-3.566,4.682-7.237,11.32c2.25,2.943,4.286,5.795,6.131,8.563
			c0.539-0.964,1.159-1.854,1.854-2.658c2.989-3.355,7.182-5.349,12.112-5.349c3.197,0,5.976,0.732,7.865,1.574l-1.47,5.978
			c-1.361-0.576-3.515-1.259-5.819-1.259c-2.519,0-4.824,0.837-6.45,2.83c-0.734,0.841-1.312,2.045-1.679,3.406h13.057v3.724H92.038
			c0.273,0.409,1.183,1.979,1.431,2.464h13.115v3.722H95.253c0.359,0.807,0.702,1.604,1.017,2.388
			c0.399,1.004,0.755,1.991,1.084,2.967c1.357,0.686,2.931,0.992,4.563,0.992c2.412,0,4.876-0.786,5.979-1.362l1.26,5.819
			c-1.785,0.998-4.825,1.993-8.181,1.993c-0.604,0-1.201-0.031-1.792-0.09c0.44,2.916,0.483,5.661,0.145,8.232
			c0.446,0.018,0.896,0.031,1.355,0.041C100.683,88.223,153.408,88.223,101.993,30.362z"
                          />
                          <path
                            d="M101.148,27.786c0,0,3.582-11.062-0.622-11.526c-3.54-0.394-8.96-0.313-14.487,3.494c1.727,2.207,3.662,4.372,3.662,4.372
			l-4.7-3.61c-0.692,0.536-1.387,1.13-2.076,1.795l5.451,7.912C88.375,30.222,94.703,26.852,101.148,27.786z"
                          />
                        </g>
                      </g>
                    </svg>
                    <span className="font-medium">Currencies:</span>
                    {Object.keys(countryData.currencies).map(
                      (currencyCode, index) => (
                        <span key={index}>
                          {countryData.currencies[currencyCode].name}
                        </span>
                      )
                    )}
                  </p>
                </div>
              )}
            </div>
          </div>
        </div>
		
      )}
	   <div className="built-by">Built by <a href="https://goktug.bio/" target="_blank" rel="noopener noreferrer">Goktug</a>✌️</div>
	 
    </div>
  );
};


export default CountryInfo;
